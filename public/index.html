<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>PoC</title>
</head>
<body>

    <nav class="navbar navbar-default navbar-static-top">
        <div class="container">
            <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#" style="padding-top:8px">
                <img alt="Brand" src="./../assets/logo.png" width="48px">
            </a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li [routerLinkActive]="['active']"><a [routerLink]="['/dashboard']">Dashboard</a></li>
                <li [routerLinkActive]="['active']"><a [routerLink]="['/sensors']">Sensors</a></li>
                <li [routerLinkActive]="['active']"><a [routerLink]="['/applications']">Applications</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li [routerLinkActive]="['active']"><a [routerLink]="['/settings']">Settings</a></li>
                <li><a href="#">Logout</a></li>
            </ul>
            </div>
        </div>
        </nav>

        <div class="container">
        <router-outlet></router-outlet>
        </div>

        <footer class="footer">
        <div class="container">
            <p class="text-muted">T3chFest 2017 - 10 de Febrero - ¿Plataforma casera para IoT? ¡Es posible y es barato!</p>
        </div>
        </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.2/socket.io.min.js"></script>
    <script src="./Rx.min.js"></script>
    <script src="./rx-socket-subject.js"></script>
    <script>
        /*var socket = io.connect('ws://localhost:3000');
        socket.on('connect', function(data) {
            socket.emit('join', 'Hello World from client');
        });
 
        socket.on('msg', function(data) {
            alert('Mensaje: ' + data.resp);
        });

        socket.emit('msg', { data: 1 });*/



        var socket = RxSocketSubject.create('ws://localhost:3000');

        // use the socket subject as an Observer and send messages with onNext()
        // even though the underlying socket still hasn't been created,
        // the messages will be buffered until a socket is made and connected
        socket.onNext('one');
        socket.onNext('two');

        // subscribing to the socket subject as an Observable will start the socket and connect.
        socket.forEach(function(e) {
            console.log(e); // raw message events are emitted
        });

        setTimeout(function(){
            // while the socket is connected, onNext will send the message immediately through it.
            socket.onNext('three');
        }, 1000);
    </script>
</body>
<body>